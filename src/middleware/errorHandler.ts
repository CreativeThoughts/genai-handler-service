import { Request, Response, NextFunction } from "express"; export interface ApiError extends Error { statusCode?: number; } export const errorHandler = (err: ApiError, req: Request, res: Response, next: NextFunction) => { const statusCode = err.statusCode || 500; console.error(`[ERROR] ${err.message}`); res.status(statusCode).json({ error: err.message, stack: process.env.NODE_ENV === "production" ? undefined : err.stack }); };
